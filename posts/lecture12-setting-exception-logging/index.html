<!DOCTYPE html>
<html>
  <head><title>lecture12-setting-exception-logging</title>


<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes" />

<link rel="shortcut icon" href="./img/favicon.ico" type="image/x-icon">
<link rel="icon" href="./img/favicon.ico" type="image/x-icon">    


<link rel="stylesheet" href="/css/main.css">
<link rel="stylesheet" href="/css/orgmode.css">
<link rel="stylesheet" href="/css/chroma.css">
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

</head>
  <body><header>
  <a href="/" id="logo">
    <img src="https://braindump.frege2godel.me/img/mylogo.png" alt="holy frege">
    <h3><span>H</span>oly <span>F</span>rege's <span id="note">notes</span></h3>
  </a>
  <small>G.frege를 너무 사랑하는 holy가...</small>
  <div class="vertical_dotted_line"></div>
    <label>
      <input role="switch" type="checkbox" id="switch"/>
      <span>d3 off</span>
    </label><form id="search"
	  action='https://braindump.frege2godel.me/search/' method="get">  
  <input type="text" id="search-input" name="query"
	 placeholder="" autocomplete="on">
  <input type="submit" value="search">
</form>

</header>
   

<div class="container">
  <div class="page">
    <h1 class="collapsed-title">lecture12-setting-exception-logging</h1>    
      <div class="content">
	<a href="https://braindump.frege2godel.me/posts/lecture12-setting-exception-logging/" alt="lecture12-setting-exception-logging" class="permalink" data-singlepage="yes" ><h1>lecture12-setting-exception-logging</h1></a>
	<fieldset>
	  <legend><i class="far fa-star"></i> [ document summary ] </legend>
	  <ol class="li"><strong>Title: </strong> lecture12-setting-exception-logging </ol>
	  <ol class="li"><strong>date: </strong> 2023 6.5 </ol>
	  <ol class="li"><strong>content: </strong>python의 exception longgin처리에 대해서. </ol>
	    
  
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
  

  
	  
	</fieldset>
	<h2 id="command-line-argument">Command Line Argument</h2>
<h3 id="개요">개요</h3>
<p>python을 실행할때, gpu개수, epoch같은 변수들을 program이 동작할때
cmd line interface에서 argument에서 전달받겠다, 입력받겠다고 처리할
수 있다. program안에서 상수값으로 처리하는게 아니라, program을
실행할 때, 해당 값을 설정해서 실행하는 것이다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">(1) python main.py
</span></span><span class="line"><span class="cl">(2) python main.py arguments
</span></span><span class="line"><span class="cl">(3) python main.py --options 12345
</span></span></code></pre></div><p>위와같이 program을 실행할 때, 아래와 같이 하면 command line
argument를 건네 받을 수 있다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">system</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
</span></span></code></pre></div><p>각각의 결과는 아래와 같다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">(1) python main.py =&gt; [&#39;main.py&#39;]
</span></span><span class="line"><span class="cl">(2) python main.py arguments  =&gt; [&#39;main.py&#39;, &#39;arguments&#39;]
</span></span><span class="line"><span class="cl">(3) python main.py --options 12345  =&gt; [&#39;main.py&#39;, &#39;--options&#39;, &#39;12345&#39;]
</span></span></code></pre></div><p>argument들은 공백을 기준으로 item이 도출된다. parsing이
복잡하다. item이 string형태라서 int,float로 형변환도 해야 하기
때문에 쉽게 사용할 수 있는 argparser를 사용한다.</p>
<h3 id="argparser-사용법">argparser 사용법</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">argparse</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-l&#39;</span><span class="p">,</span> <span class="s1">&#39;--left&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span> <span class="nb">int</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-r&#39;</span><span class="p">,</span> <span class="s1">&#39;--right&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span> <span class="nb">int</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;--operation&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		    <span class="n">dest</span><span class="o">=</span><span class="s1">&#39;op&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		    <span class="n">help</span><span class="o">=</span><span class="s1">&#39;Set Operation&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		    <span class="n">default</span><span class="o">=</span><span class="s1">&#39;sum&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">op</span> <span class="o">==</span> <span class="s1">&#39;sum&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">out</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">left</span> <span class="o">+</span> <span class="n">args</span><span class="o">.</span><span class="n">right</span>
</span></span><span class="line"><span class="cl"><span class="k">elif</span> <span class="n">args</span><span class="o">.</span><span class="n">op</span> <span class="o">==</span> <span class="s1">&#39;sub&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">out</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">left</span> <span class="o">-</span> <span class="n">args</span><span class="o">.</span><span class="n">right</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span> <span class="n">out</span>
</span></span></code></pre></div><p>argv로 cmd명령어와 option을 하나의 문자열로 입력받아 parsing해서
처리하지 않고, 위와 같이 argparse 모듈을 사용하면, option에 대한
처리를 미리 정의할 수도 있다. 짧은 option과 긴 option을 사용해서
받아올 값의 type도 설정이 가능하다. 어떻게 사용하는지 정리해 보자.</p>
<ul>
<li>
<p>ArgumentParser라는 객체를 만든다.</p>
</li>
<li>
<p>이 객체에서 argument에 대한 설정을 할수 있다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">parser.add_argument(&#39;-l&#39;, &#39;--left&#39;, type= int)
</span></span><span class="line"><span class="cl">parser.add_argument(&#39;-r&#39;, &#39;--right&#39;, type= int)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">parser.add_argument(&#39;--operation&#39;,
</span></span><span class="line"><span class="cl">               dest=&#39;op&#39;,
</span></span><span class="line"><span class="cl">               help=&#39;Set Operation&#39;,
</span></span><span class="line"><span class="cl">               default=&#39;sum&#39;)
</span></span></code></pre></div></li>
<li>
<p>command argument가 program에 전달되면, parsing이 가능하다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">args = parser.parse_args()
</span></span></code></pre></div></li>
<li>
<p>add_argument로 정한 argument값에 대한 접근을 할 수 있다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">args.left, args.right, args.op로 접근 가능
</span></span></code></pre></div><p>args.operation은 dest옵션으로 args.op로 접근 가능하다.</p>
</li>
</ul>
<h2 id="exception-handling">Exception Handling</h2>
<h3 id="개요-dot">개요.</h3>
<ul>
<li>0으로 나누거나,</li>
<li>파일을 열었는데, 해당 파일이 없다거나,</li>
<li>server와 연결이 끊겼을 때..</li>
</ul>
<p>이런 예외가 발생했을때, 다른 대응 코드를 사용해서 처리해야
한다.</p>
<h3 id="try-except-코드">try except 코드</h3>
<p>예외 발생이 예상되는 코드가 있다. 그 code에 다음과 같이 처리하면,
예외가 발생했을 때 그냥 program이 종료하는게 아닌, 적절한 대응을
해서 계속 진행이 가능하다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">try:
</span></span><span class="line"><span class="cl">   &lt;예외 발생 가능 코드&gt;
</span></span><span class="line"><span class="cl">except &lt;예외클래스&gt;:
</span></span><span class="line"><span class="cl">   &lt;대응 코드&gt;
</span></span></code></pre></div><h3 id="exception-handling-example">exception handling example</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">	<span class="nb">print</span><span class="p">(</span><span class="mi">10</span><span class="o">/</span><span class="n">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span> <span class="ne">ZeroDivisionError</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">	<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Zero Division, skip the number.&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>i가 0이 되면 zero division error가 발생한다. try exception처리가
없다면, program은 종료한다. exception처리를 했기 때문에 for-loop를
계속 진행한다.</p>
<h3 id="built-in-exception">Built-in Exception</h3>
<table>
<thead>
<tr>
<th>Exception class</th>
<th>설명</th>
<th>발생 가능 예시</th>
</tr>
</thead>
<tbody>
<tr>
<td>Index Error</td>
<td>List의 index범위를 넘어감.</td>
<td>list[001]</td>
</tr>
<tr>
<td>Name Error</td>
<td>존재하지 않는 변수를 호출</td>
<td>not_exist+1</td>
</tr>
<tr>
<td>Zero Division Error</td>
<td>0으로 숫자를 나눔</td>
<td>10/0</td>
</tr>
<tr>
<td>Value Error</td>
<td>반환할 수 없는 문자열/숫자를 변환</td>
<td>float(&ldquo;abc&rdquo;)</td>
</tr>
<tr>
<td>FileNotFoundError</td>
<td>존재하지 않는 파일 호출</td>
<td>open(&ldquo;not exist.txt&rdquo;,&ldquo;r&rdquo;)</td>
</tr>
</tbody>
</table>
<p>이것 외에도 많은 built-in exception들이 있다.</p>
<h3 id="exception-class">Exception class</h3>
<p>Exception들은 BaseException에서 상속받은 class들이다.</p>
<figure><img src="img/class-uml.png"/>
</figure>

<p>exception이 inheritance를 갖기 때문에 try except에서 처리할 때 부모
class를 잡아서 처리하는게 효율적이다. 참고로 위 tree에서
exception처리할 수 있는 class는 Exception아래 클래스만 해당한다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">try:
</span></span><span class="line"><span class="cl">except Lookuperror:
</span></span></code></pre></div><p>이렇게 하면, index error와 key error에 대한 처리가 가능하다. 사용자
정의 Exception도 만들 수 있는데, 만들기 위해선 Exception class를
상속해서 만들면 된다.</p>
<h3 id="raising-and-referencing-exception">Raising &amp; Referencing Exception</h3>
<p>raise구문으로 예외를 발생시킬 수 있다. 그리고 as 구문으로 잡힌
에러를 참조 할 수 있다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">	<span class="n">value</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&#34;A,B,C중 하나를 입력하세요:&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span><span class="mi">1</span> <span class="ow">and</span> <span class="n">value</span> <span class="ow">not</span> <span class="ow">in</span> <span class="s2">&#34;ABC&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">	    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&#34;잘못된 입력입니다. 종료합니다.&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;선택된 옵션:&#34;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span></span></code></pre></div><p>위 코드에서 raise로 Exception객체를 만든다. 이렇게 만들어진
exception객체는 except구문에서 잡을 수 있다. ValueError 클래스
객체라면 e로 잡고, e를 출력하면 Exception객체가 가진 값을 출력한다.
만일 except문에서 처리하지 못한다면, program은 종료하게 된다.</p>
<h3 id="assertion">Assertion</h3>
<p>assert문이 있다. 조건을 확인해서 참이 아닐때 AssertError를
발생한다. raise가 무조건적인 error를 발생시킨다면, assert는 조건을
확인하고 발생시킨다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">assert &lt;조건&gt;
</span></span><span class="line"><span class="cl">assert &lt;조건&gt;, &lt;에러 메시지&gt;
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">add_int</span><span class="p">(</span><span class="n">param</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">param</span><span class="p">,</span><span class="nb">int</span><span class="p">),</span> <span class="s2">&#34;int만 된다.&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">param</span><span class="o">+</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">add_int</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">add_int</span><span class="p">(</span><span class="s1">&#39;str&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">except</span> <span class="ne">AssertionError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span></span></code></pre></div><p>try except는 try~catch구문과 동일하다. add_int가 try문에 걸려
있는데, 여기서 assert문이 있다. param이 int가 아니기 때문에
AssertionError가 발생한다. 그리고 except에서 해당 error를 catch해서
처리한다.</p>
<h3 id="post-error-processing">post-error processing</h3>
<p>try-except문에는 except로 error를 잡아서 처리하는 것 외에 다른
처리를 할 수 있게 else와 finally같은 keyword가 존재한다. 3개의
각각의 경우를 비교해 보자. functions()에서 SomeError가 발생하거나 다른 Error가 발생하지 않을때, 대비하는 코드인 except, else, finally가 어떻게 수행되는 지 보자.</p>
<h4 id="except만-있는-경우">except만 있는 경우</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">functions</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="k">except</span> <span class="n">SomeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="s2">&#34;예외 발생&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="s2">&#34;예외 이후&#34;</span><span class="p">)</span>
</span></span></code></pre></div><ol>
<li>예외발생이 없는 경우
&ldquo;예외 이후&quot;를 출력.</li>
<li>SomeError가 발생한 경우
&ldquo;예외 발생&quot;을 출력
&ldquo;예외 이후&quot;를 출력.</li>
<li>다른 예외가 발생한 경우.
프로그램 비정상 종료</li>
</ol>
<h4 id="else가-있는-경우">else가 있는 경우</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">functions</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="k">except</span> <span class="n">SomeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="s2">&#34;예외 발생&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;예외 이후&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>else의 의미가 좀 애매하다. 왜냐면, try-except에서 처리가 되는
경우에 대한 else이기 때문이다. 즉 except에서 처리가 되지 않는
경우는 else를 수행하기 때문이다.</p>
<ol>
<li>예외발생이 없는 경우
&ldquo;예외 이후&quot;를 출력.</li>
<li>SomeError가 발생한 경우
&ldquo;예외 발생&quot;을 출력</li>
<li>다른 예외가 발생한 경우.
프로그램 비정상 종료</li>
</ol>
<h4 id="finally구문이-있는-경우">finally구문이 있는 경우</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">functions</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="k">except</span> <span class="n">SomeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="s2">&#34;예외 발생&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">finally</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;예외 이후&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>finally구분은 모든 경우에 출력되는 것을 볼 수 있다.</p>
<ol>
<li>예외발생이 없는 경우
&ldquo;예외 이후&quot;를 출력.</li>
<li>SomeError가 발생한 경우
&ldquo;예외 발생&quot;을 출력
&ldquo;예외 이후&quot;를 출력.</li>
<li>다른 예외가 발생한 경우.
&ldquo;예외 이후&quot;를 출력.
프로그램 비정상 종료</li>
</ol>
<h3 id="exception-handling-example">Exception Handling Example</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">	<span class="n">value</span> <span class="o">/=</span> <span class="n">i</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">	<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;No value on Value: set 0&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">value</span> <span class="o">=</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">except</span> <span class="ne">ZeroDivisionError</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">	<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Zero Division: Skip&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">	<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">),</span><span class="n">e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">raise</span> <span class="n">e</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">	<span class="nb">print</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">finally</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">	<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;step&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>첫번째로 발생하는 error는 NameError다. NameError가 발생하는 이유는,
value /= i에서 발생한다. 이것은 value = value/i인데 좌변은 문제
없지만 우변이 문제가 있다. 우변의 value는 값을 가지고 있지
않다. 따라서 NameError가 발생한다. 그리고 finally가
수행된다. finally는 try except에서 처리하던 안하던, 수행이 되는
구문이기 때문이다. else는 try-except에서 error를 처리하지 못하면
수행된다. 따라서 zerodivisionerror가 발생한 이후는 계속해서 else와
finally만 수행되게 된다.</p>
<h2 id="logging-처리">Logging 처리</h2>
<h3 id="개요">개요</h3>
<p>program안에서 일어난 일을 logging할 수 있다고 한다. debug를 위해서
logging을 할 수도, 사용자 패턴파악을 위해서 logging을 할 수 있다고
한다.</p>
<h3 id="logging-module-사용">Logging module 사용</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">logging</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&#34;디버깅&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&#34;정보 확인&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&#34;경고&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&#34;에러&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">logging</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&#34;치명적오류&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>상황에 따라 다른 level의 log출력이 가능하다고 한다. 아래 처럼
level을 갖는 log를 보여준다.</p>
<ul>
<li>debug &lt; info &lt; warning &lt; error &lt; critical</li>
</ul>
<p>디버그를 할때 print debug라는게 있다. 즉 tracer를 사용해서
debugging을 할 수도 있지만, 값을 찍어서 확인할 수도 있는데, 그때 이
log 모듈을 사용할 수 있다. log가 level이 있다면, 저장될때도,
level에 따라 file에 저장되거나, 혹은 화면에 출력되는것도
결정하는걸로 알고 있는데, 그것에 대한 설명은 없다. 다만 아래 표를
읽어줬는데, 이표만 가지고는 별 도움이 안되는거 같다.</p>
<table>
<thead>
<tr>
<th>level</th>
<th>설명</th>
<th>예시</th>
</tr>
</thead>
<tbody>
<tr>
<td>DEBUG</td>
<td>상세한 정보, 문제를 진단할 때 사용</td>
<td>변수 A에 값대입, 함수 F호출</td>
</tr>
<tr>
<td>INFO</td>
<td>program이 정상동작중 발생하는 event보고</td>
<td>서버시작, user의 서버접속</td>
</tr>
<tr>
<td>WARNING</td>
<td>예상치 못한 일이 발생하거나, 발생할 문제에 대한 보고</td>
<td>문자열 대신 숫자 입력, 인자로 들어온 list가 길이가 안맞음</td>
</tr>
<tr>
<td>ERROR</td>
<td>오류가 발생했으나 program은 동작가능</td>
<td>파일이 없거나 외부 서버 연결이 불가능</td>
</tr>
<tr>
<td>CRITICAL</td>
<td>심각한 오류 발생, 프로그램이 실행되지 않을 때</td>
<td>중요 파일이 없거나 사용자 강제 종료시</td>
</tr>
</tbody>
</table>
<h3 id="root-logging">root logging</h3>
<p>왜 root logging이라고 부르는지는 모르겠다. 하지만 여기서 logging을
할때 저장되는 문자열에 root가 있다고 한다. 예를 들면,</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">WARNING:ROOT: this is warning message
</span></span><span class="line"><span class="cl">ERROR:ROOT: this is error message
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">logging</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;test.log&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&#34;기록 안됨&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&#34;기록 됨&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">(</span><span class="s2">&#34;기록 됨&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>basicConfig에서 설정하는 내용을 보면 log가 저장될 파일과 level이
정해진다. debug가 기록되지 않는 이유는 info보다 level이 낮기
때문이다. 우리가 program을 개발할때, develop단계에서는 debug를
위해서 print문을 많이 쓴다. 그리고 그 코드가 product단계로 가서,
그대로 출시될 수도 있다. logging을 사용하면 그런 문제를 막아줄 수
있다. logging에서 print의 level을 정할 수 있기 때문에, basic
config만 설정하면된다. print문이 많다면, 모든 print문을 찾아서
지우거나 혹은 필요한것만 남겨야 하는데, logging을 사용하면 간단히
처리할 수 있다.</p>
<h3 id="logger-management">logger management</h3>
<p>root logger가 아닌, 새로운 이름의 logger를 만들기 위해선,
getlogger를 사용한다고 한다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">logging</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;test.log&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># logger = logging.getLogger(&#34;main&#34;) # 새로운 logger생성</span>
</span></span><span class="line"><span class="cl"><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span> <span class="c1"># module이름으로 logger생성</span>
</span></span><span class="line"><span class="cl"><span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&#34;Root에 info 기록&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&#34;Root에 warning 기록&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&#34;메인에서 info기록&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&#34;메인에서 warning기록&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>basicConfig라는게 root logger의 설정이라고 한다. 하지만 getLogger로
새로운 user logger를 만들면 root logger의 설정을 그대로 사용하게
된다고 한다. 강의가 좀 부실하다. 나중에 더 조사해야 할듯하다.</p>
      
      </div>

  </div>
</div>  
<script>
 graph_objects = []; 

 
     
     graph_node_object = {
        
     "label": "[emacs] jupyter notebook settings",
     "url": "https:\/\/braindump.frege2godel.me\/posts\/emacs_jupyter_notebook_%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC\/",
     "id": "emacs_jupyter_notebook_설정",
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
     "backlinks": []
   }
 sessionStorage.setItem("emacs_jupyter_notebook_설정",JSON.stringify(graph_node_object)); 
 graph_objects.push(graph_node_object);
 
     
     graph_node_object = {
        
     "label": "[정리]python 기초1",
     "url": "https:\/\/braindump.frege2godel.me\/posts\/%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%85%E1%85%B5_python_%E1%84%80%E1%85%B5%E1%84%8E%E1%85%A91\/",
     "id": "정리_python_기초1",
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
     "backlinks": []
   }
 sessionStorage.setItem("정리_python_기초1",JSON.stringify(graph_node_object)); 
 graph_objects.push(graph_node_object);
 
     
     graph_node_object = {
        
     "label": "daily영어(1)-don\u0027t pet my puppy",
     "url": "https:\/\/braindump.frege2godel.me\/posts\/english1\/",
     "id": "english1",
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
     "backlinks": []
   }
 sessionStorage.setItem("english1",JSON.stringify(graph_node_object)); 
 graph_objects.push(graph_node_object);
 
     
     graph_node_object = {
        
     "label": "folding test1",
     "url": "https:\/\/braindump.frege2godel.me\/posts\/folding_test\/",
     "id": "folding_test",
     
         
     
         
     
         
     
         
     
         
              
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
     "backlinks": ["folding_test2"]
   }
 sessionStorage.setItem("folding_test",JSON.stringify(graph_node_object)); 
 graph_objects.push(graph_node_object);
 
     
     graph_node_object = {
        
     "label": "folding test2",
     "url": "https:\/\/braindump.frege2godel.me\/posts\/folding_test2\/",
     "id": "folding_test2",
     
         
     
         
     
         
     
         
              
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
     "backlinks": ["folding_test"]
   }
 sessionStorage.setItem("folding_test2",JSON.stringify(graph_node_object)); 
 graph_objects.push(graph_node_object);
 
     
     graph_node_object = {
        
     "label": "lecture10-String",
     "url": "https:\/\/braindump.frege2godel.me\/posts\/lecture10-string\/",
     "id": "lecture10-String",
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
     "backlinks": []
   }
 sessionStorage.setItem("lecture10-String",JSON.stringify(graph_node_object)); 
 graph_objects.push(graph_node_object);
 
     
     graph_node_object = {
        
     "label": "lecture11-IO",
     "url": "https:\/\/braindump.frege2godel.me\/posts\/lecture11-io\/",
     "id": "lecture11-IO",
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
     "backlinks": []
   }
 sessionStorage.setItem("lecture11-IO",JSON.stringify(graph_node_object)); 
 graph_objects.push(graph_node_object);
 
     
     graph_node_object = {
        
     "label": "lecture12-setting-exception-logging",
     "url": "https:\/\/braindump.frege2godel.me\/posts\/lecture12-setting-exception-logging\/",
     "id": "lecture12-setting-exception-logging",
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
     "backlinks": []
   }
 sessionStorage.setItem("lecture12-setting-exception-logging",JSON.stringify(graph_node_object)); 
 graph_objects.push(graph_node_object);
 
     
     graph_node_object = {
        
     "label": "lecture13-web",
     "url": "https:\/\/braindump.frege2godel.me\/posts\/lecture13-web\/",
     "id": "lecture13-web",
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
     "backlinks": []
   }
 sessionStorage.setItem("lecture13-web",JSON.stringify(graph_node_object)); 
 graph_objects.push(graph_node_object);
 
     
     graph_node_object = {
        
     "label": "lecture3 data structures",
     "url": "https:\/\/braindump.frege2godel.me\/posts\/lecture3_data-structure\/",
     "id": "lecture3_data-structure",
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
     "backlinks": []
   }
 sessionStorage.setItem("lecture3_data-structure",JSON.stringify(graph_node_object)); 
 graph_objects.push(graph_node_object);
 
     
     graph_node_object = {
        
     "label": "lecture4_condition-and-loop",
     "url": "https:\/\/braindump.frege2godel.me\/posts\/lecture4_condition-and-loop\/",
     "id": "lecture4_condition-and-loop",
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
     "backlinks": []
   }
 sessionStorage.setItem("lecture4_condition-and-loop",JSON.stringify(graph_node_object)); 
 graph_objects.push(graph_node_object);
 
     
     graph_node_object = {
        
     "label": "lecture5_function",
     "url": "https:\/\/braindump.frege2godel.me\/posts\/lecture5_function\/",
     "id": "lecture5_function",
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
     "backlinks": []
   }
 sessionStorage.setItem("lecture5_function",JSON.stringify(graph_node_object)); 
 graph_objects.push(graph_node_object);
 
     
     graph_node_object = {
        
     "label": "lecture6-pythonic programming",
     "url": "https:\/\/braindump.frege2godel.me\/posts\/lecture6-pythonic-programming\/",
     "id": "lecture6-Pythonic-Programming",
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
     "backlinks": []
   }
 sessionStorage.setItem("lecture6-Pythonic-Programming",JSON.stringify(graph_node_object)); 
 graph_objects.push(graph_node_object);
 
     
     graph_node_object = {
        
     "label": "lecture7_Object-Oriented-Programming",
     "url": "https:\/\/braindump.frege2godel.me\/posts\/lecture7_object-oriented-programming\/",
     "id": "lecture7_Object-Oriented-Programming",
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
     "backlinks": []
   }
 sessionStorage.setItem("lecture7_Object-Oriented-Programming",JSON.stringify(graph_node_object)); 
 graph_objects.push(graph_node_object);
 
     
     graph_node_object = {
        
     "label": "lecture8-module-and-package",
     "url": "https:\/\/braindump.frege2godel.me\/posts\/lecture8-module-and-package\/",
     "id": "lecture8-module-and-package",
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
     "backlinks": []
   }
 sessionStorage.setItem("lecture8-module-and-package",JSON.stringify(graph_node_object)); 
 graph_objects.push(graph_node_object);
 
     
     graph_node_object = {
        
     "label": "lecture9-Advanced-Data-Structure",
     "url": "https:\/\/braindump.frege2godel.me\/posts\/lecture9-advanced-data-structure\/",
     "id": "lecture9-Advanced-Data-Structure",
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
     "backlinks": []
   }
 sessionStorage.setItem("lecture9-Advanced-Data-Structure",JSON.stringify(graph_node_object)); 
 graph_objects.push(graph_node_object);
 
     
     graph_node_object = {
        
     "label": "web scraping1",
     "url": "https:\/\/braindump.frege2godel.me\/posts\/webcrawler1\/",
     "id": "webcrawler1",
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
     "backlinks": []
   }
 sessionStorage.setItem("webcrawler1",JSON.stringify(graph_node_object)); 
 graph_objects.push(graph_node_object);
 
     
     graph_node_object = {
        
     "label": "lecture2_variable_and_operator",
     "url": "https:\/\/braindump.frege2godel.me\/posts\/lecture2_variable_and_operator\/",
     "id": "lecture2_variable_and_operator",
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
     "backlinks": []
   }
 sessionStorage.setItem("lecture2_variable_and_operator",JSON.stringify(graph_node_object)); 
 graph_objects.push(graph_node_object);
 
     
     graph_node_object = {
        
     "label": "linear_algebra1",
     "url": "https:\/\/braindump.frege2godel.me\/posts\/linear_algebra1\/",
     "id": "linear_algebra1",
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
     "backlinks": []
   }
 sessionStorage.setItem("linear_algebra1",JSON.stringify(graph_node_object)); 
 graph_objects.push(graph_node_object);
 
     
     graph_node_object = {
        
     "label": "test_page1",
     "url": "https:\/\/braindump.frege2godel.me\/posts\/test_page1\/",
     "id": "test_page1",
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
         
     
     "backlinks": []
   }
 sessionStorage.setItem("test_page1",JSON.stringify(graph_node_object)); 
 graph_objects.push(graph_node_object);
 

 
 function getNode(filename){
   var storedObject = JSON.parse(sessionStorage.getItem(filename));
   alert("label: " + storedObject.node_label);
   alert("url: " + storedObject.node_url);
   alert("backlinks: " + storedObject.backlinks);   
 }
 
 function getLinks(){
   links = []
   for (i = 0; i< graph_objects.length; i++)
   {
     let link_object;
     gno = graph_objects[i];
     blinks = gno.backlinks;
     for(j=0;j< blinks.length;j++){
       link_object = { source:gno.id, target:blinks[j]}
       links.push(link_object);
     }
   }
   return links;
 }

</script>
<script src="/js/URI.js" type="text/javascript"></script>
<script src="/js/page.js" type="text/javascript"></script>

<script src="https://d3js.org/d3.v7.min.js"></script>

</body>
</html>
