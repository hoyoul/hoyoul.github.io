<!DOCTYPE html>
<html>
  <head><title>github 사용시 문제</title>


<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes" />

<link rel="shortcut icon" href="./images/favicon.ico" type="image/x-icon">
<link rel="icon" href="./images/favicon.ico" type="image/x-icon">    

<link rel="stylesheet" href="/css/main.css">

</head>
  <body><header>
  <a href="/" id="logo">
    <img src="http://braindump.frege2godel.me/images/mylogo.png" alt="holy frege">
    <h3><span>H</span>oly <span>F</span>rege's <span id="note">notes</span></h3>
  </a>
    <small>G.frege를 너무 사랑하는 holy가...</small>  
</header>

<div class="container">
  <div class="page">
    <h1 class="collapsed-title">github 사용시 문제</h1>    
      <div class="content">
	<a href="http://braindump.frege2godel.me/posts/20211128185607-github_%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8/" alt="github 사용시 문제" class="permalink"><h1>github 사용시 문제</h1></a>      
	<div class="ox-hugo-toc toc has-section-numbers">
<div class="heading">Table of Contents</div>
<ul>
<li><span class="section-num">1</span> <a href="#git-clone-repository%ED%95%A0-%EB%95%8C-password%EC%9D%B8%EC%A6%9D-%EA%B1%B0%EB%B6%80-pat-%EC%9D%B8%EC%A6%9D-%EC%82%AC%EC%9A%A9%ED%95%98%EB%9D%BC%EB%8A%94-error">git clone repository할 때, password인증 거부, PAT 인증 사용하라는 error</a></li>
<li><span class="section-num">2</span> <a href="#multiple-github-account%EB%A1%9C-403%EC%97%90%EB%9F%AC">multiple github account로 403에러</a></li>
<li><span class="section-num">3</span> <a href="#multiple-github-%EA%B3%84%EC%A0%95-%EC%82%AC%EC%9A%A9%EC%8B%9C--push--%EC%A0%9C%EB%8C%80%EB%A1%9C-%EC%95%88-%EB%90%9C%EB%8B%A4%EB%A9%B4-%EB%8B%A4%EC%9D%8C-%EA%B3%BC%EC%A0%95%EB%93%A4%EC%9D%84-%EC%82%B4%ED%8E%B4%EB%B3%B4%EC%9E%90-dot">Multiple github 계정 사용시(push) 제대로 안 된다면, 다음 과정들을 살펴보자.</a>
<ul>
<li><span class="section-num">3.1</span> <a href="#1--git-config-%EC%84%A4%EC%A0%95%EC%9D%B4-%EC%A0%9C%EB%8C%80%EB%A1%9C-%EB%90%98%EC%96%B4-%EC%9E%88%EB%82%98-%EB%B3%B4%EC%9E%90-dot">(1) git-config 설정이 제대로 되어 있나 보자.</a></li>
<li><span class="section-num">3.2</span> <a href="#2--ssh-%EC%97%B0%EA%B2%B0%EC%9D%84-%ED%99%95%EC%9D%B8%ED%95%9C%EB%8B%A4-dot">(2) ssh 연결을 확인한다.</a></li>
<li><span class="section-num">3.3</span> <a href="#3--key-chain-pat-%EB%93%B1%EB%A1%9D">(3) key chain PAT 등록</a></li>
<li><span class="section-num">3.4</span> <a href="#4--%EA%B7%B8%EB%9E%98%EB%8F%84-%EC%9C%84%EC%9D%98-%EA%B7%B8%EB%A6%BC%EA%B0%99%EC%9D%80-%EC%97%90%EB%9F%AC%EA%B0%80-%EB%82%9C%EB%8B%A4%EB%A9%B4-%EB%B3%B4%ED%86%B5%EC%9D%80--3--%EC%9D%84-%ED%95%98%EC%A7%80-%EC%95%8A%EA%B3%A0-%EB%B0%94%EB%A1%9C-%EC%9D%B4%EB%A0%87%EA%B2%8C-%ED%95%98%EC%9E%90-dot">(4) 그래도 위의 그림같은 에러가 난다면, 보통은 (3)을 하지 않고 바로 이렇게 하자.</a></li>
</ul>
</li>
<li><span class="section-num">4</span> <a href="#pat-%EB%A7%8C%EB%93%9C%EB%8A%94%EB%B2%95">PAT 만드는법</a></li>
<li><span class="section-num">5</span> <a href="#git-push-and-pull%ED%95%A0%EB%95%8C-%EB%82%98%EB%8A%94-%EC%97%90%EB%9F%AC">git push &amp; pull할때 나는 에러</a></li>
</ul>
</div>
<!--endtoc-->
<h2 id="git-clone-repository할-때-password인증-거부-pat-인증-사용하라는-error"><span class="section-num">1</span> git clone repository할 때, password인증 거부, PAT 인증 사용하라는 error</h2>
<p><a id="figure--"></a></p>
<figure><img src="./img/git/pat.png"
         alt="Figure 1: pat error"/><figcaption>
            <p><span class="figure-number">Figure 1: </span>pat error</p>
        </figcaption>
</figure>

<ul>
<li>2021년부터 password인증은 없어지고, PAT인증으로 바꼈다.</li>
<li>github -&gt; settings -&gt; developer settings(좌하단에 위치) -&gt; Personal Access
Token으로 간다.</li>
<li>generate new token을 클릭한다.</li>
<li>[설정] No expiration을 설정하고 나머지는 모두 check한다.=&gt; generate
token을 클릭한다. note도 설정</li>
<li>만들어진 token을 복사한다.
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>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
</span></span></code></pre></div></li>
<li>macbook에서 keychain을 실행한다.</li>
<li>github으로 검색해서 login이란 항목을 찾는다. 있다면 지운다.</li>
<li>terminal로 간다.</li>
<li>git config -l로 해서 설정정보를 확인한다. 내가 pat를 만든 github
정보를 가지고 있으면, ok!, 아니면, 새로 설정한다.</li>
<li>이제 다시 git clone을 한다.</li>
<li>git clone시 username을 물어보면, git config에서 설정된 username을
적으면 되고, password에 pat를 입력하면 된다.</li>
</ul>
<h2 id="multiple-github-account로-403에러"><span class="section-num">2</span> multiple github account로 403에러</h2>
<p>keychain에서 좌측 login 섹션에서 github을 검색해서 삭제한다. 그리고
다시 push하면 username과 password를 입력한다. password로 pat를
입력하면 된다.</p>
<h2 id="multiple-github-계정-사용시--push--제대로-안-된다면-다음-과정들을-살펴보자-dot"><span class="section-num">3</span> Multiple github 계정 사용시(push) 제대로 안 된다면, 다음 과정들을 살펴보자.</h2>
<h3 id="1--git-config-설정이-제대로-되어-있나-보자-dot"><span class="section-num">3.1</span> (1) git-config 설정이 제대로 되어 있나 보자.</h3>
<ul>
<li>우선 현재 사용하는  repository의  사용자가 맞는지 확인해보자.</li>
<li>git-config에서 설정된 사용자이름과 email은  commit의 정보로 들어가기만 하지만, 이것을 이용해서 ssh연결작업도 할수는 있다.  하지만, 그 작업은 여기선 신경쓰지 않는다.  확인만 한다. 아래와 같이 확인할 수 있다.
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>git config user.name
</span></span><span style="display:flex;"><span>git config user.email
</span></span></code></pre></div></li>
<li>만일 다르다면, repository에 사용자 정보와 email을 기입하자. global이 아닌 local이다.
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>git config --local user.name &#34;USER_NAME&#34;
</span></span><span style="display:flex;"><span>git config --local user.email &#34;USER_EMAIL&#34;
</span></span></code></pre></div></li>
</ul>
<h3 id="2--ssh-연결을-확인한다-dot"><span class="section-num">3.2</span> (2) ssh 연결을 확인한다.</h3>
<ul>
<li>ssh 연결은 2가지를 살펴봐야 한다. ssh 서버에 해당하는 github에 public key가 저장되어 있는가?
=&gt; 없다면 .ssh에서 ssh key를 생성한 후 public key를 github에 등록한다.</li>
<li>두번째로 ssh client에 해당하는 local machine에서 ssh key를 붙여서 전송하는가? 이다. 이것은 ssh-agent를 사용하는 경우, ssh-add로 key를 등록 시켜준다. 등록하는 방식은 다음과 같다. -K 옵션이 없다면 매번 부팅시마다 등록해야 한다고 한다. -K는 deprecated되었고, &ndash;apple-use-keychain란 option을 써야 한다고 한다.
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>ssh-add -K &#34;~/.ssh/id_rsa_jeju
</span></span></code></pre></div></li>
</ul>
<h3 id="3--key-chain-pat-등록"><span class="section-num">3.3</span> (3) key chain PAT 등록</h3>
<p><a id="figure--"></a></p>
<figure><img src="./img/githuberror3.png"
         alt="Figure 2: github permission"/><figcaption>
            <p><span class="figure-number">Figure 2: </span>github permission</p>
        </figcaption>
</figure>

<ul>
<li>위 2가지를 check했는데도, permission errror가 난다면, 맥북의 keychain을 확인해야 한다.</li>
<li>확인법은 keychain에서 github을 검색한다. github에서 login kind항목을 봤을때, username과 user email이 지금 연결하려는 repository정보와 같은지 확인한다. 다르다면, repository에 맞는 email주소와 password에 PAT를 저장해야 한다. 기존의 password가 아니다. PAT를 넣어야 한다.</li>
<li>PAT는 일종의 password다. ssh로 연결했어도, password에 해당하는 PAT가 필요하기 때문이다.</li>
</ul>
<h3 id="4--그래도-위의-그림같은-에러가-난다면-보통은--3--을-하지-않고-바로-이렇게-하자-dot"><span class="section-num">3.4</span> (4) 그래도 위의 그림같은 에러가 난다면, 보통은 (3)을 하지 않고 바로 이렇게 하자.</h3>
<p>ssh-agent에 연결된 key만 가지고도 PAT를 사용하지 않고 접속할 수 있는 것 같다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>- ssh-add -D 로 모든 key를 삭제한다.
</span></span><span style="display:flex;"><span>- ssh-add ~/.ssh/id_rsa_jeju식으로 해당 key를 더한다.
</span></span><span style="display:flex;"><span>- 그리고 push한다.
</span></span><span style="display:flex;"><span>- 그래도 다른 계정이 나오면서 permission에러가 나온다면, app중에 keychain access를 실행하고 keychain이 login인것을 찾는다. 그리고 username과 password를 변경한 후에 git push를 한다.
</span></span><span style="display:flex;"><span>- 이렇게 까지 에러가 난다면, 그리고 보통은 PAT에러일것이다. 이럴때 (3)으로 가서 pw에 PAT를 입력한다.
</span></span></code></pre></div><h2 id="pat-만드는법"><span class="section-num">4</span> PAT 만드는법</h2>
<ul>
<li>github settings으로 들어간다.</li>
<li>developer settings로 들어간다.</li>
</ul>
<p><a id="figure--"></a></p>
<figure><img src="./img/gitsettings.png" width="400px" height="300px"/>
</figure>

<ul>
<li>personal access token 메뉴로 간다.</li>
</ul>
<p><a id="figure--"></a></p>
<figure><img src="./img/pat.png"/>
</figure>

<ul>
<li>personal access token의 대부분을 선택하고, expired는 길게 하자.</li>
</ul>
<p><a id="figure--"></a></p>
<figure><img src="./img/pat1.png"/>
</figure>

<h2 id="git-push-and-pull할때-나는-에러"><span class="section-num">5</span> git push &amp; pull할때 나는 에러</h2>
<p><a id="figure--"></a></p>
<figure><img src="./img/gitpush.png"
         alt="Figure 4: git push"/><figcaption>
            <p><span class="figure-number">Figure 4: </span>git push</p>
        </figcaption>
</figure>

<ul>
<li>push할 때 위와 같은 에러 발생!</li>
</ul>
<p><a id="figure--"></a></p>
<figure><img src="./img/gitpull.png"
         alt="Figure 5: git pull"/><figcaption>
            <p><span class="figure-number">Figure 5: </span>git pull</p>
        </figcaption>
</figure>

<ul>
<li>
<p>pull을 하니 또 위와 같은 에러 발생</p>
</li>
<li>
<p>원인</p>
</li>
</ul>
<p><a id="figure--"></a></p>
<figure><img src="./img/giterror3.png"
         alt="Figure 6: git error3"/><figcaption>
            <p><span class="figure-number">Figure 6: </span>git error3</p>
        </figcaption>
</figure>

<ul>
<li>github에 누군가가 commit을 push했거나, 내가 push를 했지만, local에는 없는 경우, 즉 동기화가 안되어 있다는 것이다. 그래서 push나 pull을 할때 에러가 난다. 이럴때 어떻게 할것인가?를 설정해 줘야 한다.</li>
<li>rebase로 처리 ( git config pull.rebase true )</li>
</ul>
<p><a id="figure--"></a></p>
<figure><img src="./img/rebase.png"
         alt="Figure 7: rebase 처리" width="400px" height="300px"/><figcaption>
            <p><span class="figure-number">Figure 7: </span>rebase 처리</p>
        </figcaption>
</figure>

      
      </div>
        
  
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
        
    
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
  

  
  <div class="bl-section">
    <h4>Links to this note (backlinks) </h4>
    <div class="backlinks">
       <ul>
       
         <li><a href="/posts/20211128113210-org_publish/">org문서 html로 변환후 website 만들기 </a></li>
       
      </ul>
    </div>
  </div>


  </div>
</div>  
<script src="/js/page.js"></script>
</body>
</html>
