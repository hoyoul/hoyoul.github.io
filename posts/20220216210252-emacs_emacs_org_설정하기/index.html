<!DOCTYPE html>
<html>
  <head><title>[Emacs Settings -설정에 관해] from scratch</title>


<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes" />

<link rel="shortcut icon" href="./img/favicon.ico" type="image/x-icon">
<link rel="icon" href="./img/favicon.ico" type="image/x-icon">    

<link rel="stylesheet" href="/css/main.css">

</head>
  <body><header>
  <a href="/" id="logo">
    <img src="http://braindump.frege2godel.me/img/mylogo.png" alt="holy frege">
    <h3><span>H</span>oly <span>F</span>rege's <span id="note">notes</span></h3>
  </a>
    <small>G.frege를 너무 사랑하는 holy가...</small>  
</header>

<div class="container">
  <div class="page">
    <h1 class="collapsed-title">[Emacs Settings -설정에 관해] from scratch</h1>    
      <div class="content">
	<a href="http://braindump.frege2godel.me/posts/20220216210252-emacs_emacs_org_%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%92%E1%85%A1%E1%84%80%E1%85%B5/" alt="[Emacs Settings -설정에 관해] from scratch" class="permalink"><h1>[Emacs Settings -설정에 관해] from scratch</h1></a>      
	<h2 id="emacs-daemon">Emacs Daemon</h2>
<ul>
<li>Emacs를 설치하면, 터미널상에서 emacs &ndash;bg-daemon, emacs
&ndash;fg-daemon을 실행해서 daemon을 실행할 수 있다.</li>
<li>emacsclient -nc로 daemon에 연결해서 사용한다.</li>
</ul>
<h2 id="org-babel-tangle--emacs-dot-org로-설정">(Org-babel-tangle) - emacs.org로 설정</h2>
<ul>
<li>emacs의 설정파일은 init.el이다. emacs가 실행시에 init.el만 읽는다.</li>
<li>나는 init.el에서 설정하지 않고, Emacs.org파일에서 설정할려고 한다.</li>
<li>emacs.org로 하면 설정 code뿐만 아니라 설정에 대한 설명도 나타낼수 있기때문이다.</li>
<li>Emacs.org에 설정을 하고, 설정된 code를 init.el로 옮겨주는 일을 tangle이 한다.</li>
</ul>
<h3 id="첫번째-방법">첫번째 방법</h3>
<ul>
<li>
<p>emacs.org의 code block에서 tangle을 명시해주는 방법</p>
<blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"></code></pre></div></blockquote>
</li>
<li>
<p>M-x org-babel-tangle을 실행하면, Emacs.org의 source code block이
init.el로 복사가 된다.</p>
</li>
<li>
<p>문제점: 매번 code block에 tangle ./init.el을 기술</p>
</li>
</ul>
<h3 id="두번째-방법">두번째 방법</h3>
<ul>
<li>Emacs.org buffer에서 tangle을 명시하는 방법</li>
<li>M-x org-babel-tangle을 실행하면, 복사가된다.</li>
</ul>
<h3 id="문제점--갱신문제">문제점 (갱신문제)</h3>
<ul>
<li>매번 M-x org-babel-tangle을 수행해서 emacs.org를 init.el로
복사해야 한다. 번거롭다. 또한 아래와 같은 문제가 생길때가 있다.</li>
<li>첫번째 방식과 두번째 방식에서 M-x org-babel-tangle을 해도 0 code
block을 복사했다는 메시지가 나올 수 있다. 이때는 org-mode
buffer를 갱신해줘야 한다. M-x org-mode를 해준다.</li>
<li>tangle이후 init.el을 보면 갱신이 안된것처럼 보일 때가
있다. 이때는 M-x revert-buffer를 해준다.</li>
</ul>
<h3 id="세번째-방법--auto">세번째 방법 (auto)</h3>
<ul>
<li>
<p>emacs.org파일을 save할때마다, init파일에 자동으로 복사하는 기능</p>
</li>
<li>
<p>Emacs.org 최상단에 다음을 기술한다.</p>
</li>
<li>
<p>두번째로 아래와 같은 함수를 기술한다.
add-hook은 event 함수로 보면된다. save를 할경우,
org-babel-tangle-config()가 호출된다. 현재 buffer와 저장되는 file
name이 같으면 org-babel-tangle함수가 호출되는 것이다. 그래서</p>
<blockquote>
<p>(defun holy/org-babel-tangle-config ()
(when (string-equal (buffer-file-name)
(expand-file-name &ldquo;~/.emacs.d/Emacs.org&rdquo;))
(let ((org-confirm-babel-evaluate nil))
(org-babel-tangle))))</p>
<p>(add-hook &lsquo;org-mode-hook (lambda () (add-hook &lsquo;after-save-hook #&lsquo;holy/org-babel-tangle-config)))</p>
</blockquote>
</li>
<li>
<p>세번째로, M-x org-babel-tangle을 실행해야 한다. 그러면
두번째과정에서 작성한 code block이 init.el에 복사 된다. 이렇게
복사되면, 다음부터는 emacs.org에서 작성하고 save만 하면 자동으로
init.el로 복사된다. 따라서, init.el을 별도로 작성할 필요는
없다. 위와같이 바로 emacs.org에 기술하고 M-x org-babel-tangle을
하면 init.el이 만들어진다.만일 두번째 과정의 코드를 init.el에
직접 기술한다면, init.el을 먼저 만들어야 한다. 그다음
emacs.org에서 기술하고 save하면 init.el이 갱신된다.</p>
</li>
</ul>
<h3 id="마지막-방법">마지막 방법</h3>
<ul>
<li>세번째 방법으로하면, 그냥 save하면 자동으로 init.el이 갱신되는데,
잘 안되는 경우가 있다. 이럴 때는 M-x org-babel-tangle을 실행해서
갱신해주면 된다.</li>
</ul>
<h3 id="요약">요약</h3>
<ul>
<li>나는 init.el을 만들지 않고 emacs.org에서 설정해서 사용했다.</li>
</ul>
<h2 id="default-settings">Default settings</h2>
<h3 id="setq-inhibit-startup-message-t">(setq inhibit-startup-message t)</h3>
<ul>
<li>시작할때 나오는 tutorial 화면을 제거하겠다.</li>
</ul>
<h3 id="setq-visible-bell-t">(setq visible-bell t)</h3>
<ul>
<li>키를 잘못 누르면 bell소리가 나는데, 소리를 내지 않고 splash를 보이게 하겠다.</li>
</ul>
<h3 id="setq-ns-command-modifier-meta">(setq ns-command-modifier &lsquo;meta)</h3>
<ul>
<li>맥북에서 command key를 meta키로 변경, 변경하지 않으면 esc키가 meta키로 설정되서 불편하다.</li>
</ul>
<h3 id="fset-yes-or-no-p-y-or-n-p">(fset &lsquo;yes-or-no-p &lsquo;y-or-n-p)</h3>
<ul>
<li>설치할 때 yes or no를 입력해야 하는경우 불편하다. y or n 으로 바꾼다.</li>
</ul>
<h3 id="setq-make-backup-files-nil">(setq make-backup-files nil)</h3>
<ul>
<li>백업파일을 만들지 않기로 한다.</li>
</ul>
<h3 id="menu-bar-mode-1">(menu-bar-mode -1)</h3>
<ul>
<li>menu bar도 없앤다.</li>
</ul>
<h3 id="tool-bar-mode-1">(tool-bar-mode -1)</h3>
<ul>
<li>tool bar도 없앤다.</li>
</ul>
<h3 id="scroll-bar-mode-1">(scroll-bar-mode -1)</h3>
<ul>
<li>scroll bar도 사용하지 않는다.</li>
</ul>
<h3 id="global-display-line-numbers-mode-1">(global-display-line-numbers-mode 1)</h3>
<ul>
<li>line number는 모든 buffer에 있게 한다. org mode는 line number가 있으면 정렬이 이상하다. 99는 2칸이지만, 100은 3칸이 되어버려서 화면이 꼬인다. 그래서 org모드는 제외했다.</li>
</ul>
<h3 id="load-theme-doom-1337-t">(load-theme &lsquo;doom-1337 t)</h3>
<ul>
<li>theme는 doom-1337로 했다.</li>
</ul>
<h2 id="emacs-font">emacs font</h2>
<p>emacs는 terminal로 실행될수도 있고 gui(display device)에서 실행될
수도 있다. terminal로 실행될 경우, font설정하는 부분은 에러가
발생한다. 왜냐면 terminal에는 font가 없기 때문에 init.el을 수행할 때
에러가 난다. 예를 들어서 emacs -nw나 emacs &ndash;bg-daemon같은 경우에는
에러가 난다. 터미널 실행이기 때문이다.</p>
<h2 id="perspective-dot-el">Perspective.el</h2>
      
      </div>
        
  
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
  

  

  </div>
</div>  

<script src="/js/URI.js" type="text/javascript"></script>
<script src="/js/page.js" type="text/javascript"></script>
</body>
</html>
