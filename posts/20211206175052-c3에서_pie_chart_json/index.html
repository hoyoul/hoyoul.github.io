<!DOCTYPE html>
<html>
  <head><title>c3에서 pie chart json</title>


<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes" />

<link rel="shortcut icon" href="./img/favicon.ico" type="image/x-icon">
<link rel="icon" href="./img/favicon.ico" type="image/x-icon">    

<link rel="stylesheet" href="/css/main.css">

</head>
  <body><header>
  <a href="/" id="logo">
    <img src="http://braindump.frege2godel.me/img/mylogo.png" alt="holy frege">
    <h3><span>H</span>oly <span>F</span>rege's <span id="note">notes</span></h3>
  </a>
    <small>G.frege를 너무 사랑하는 holy가...</small>  
</header>

<div class="container">
  <div class="page">
    <h1 class="collapsed-title">c3에서 pie chart json</h1>    
      <div class="content">
	<a href="http://braindump.frege2godel.me/posts/20211206175052-c3%E1%84%8B%E1%85%A6%E1%84%89%E1%85%A5_pie_chart_json/" alt="c3에서 pie chart json" class="permalink"><h1>c3에서 pie chart json</h1></a>      
	<p>참조:<a href="https://stackoverflow.com/questions/30886203/pie-chart-from-json-using-c3-js">https://stackoverflow.com/questions/30886203/pie-chart-from-json-using-c3-js</a></p>
<p>var jsonData = [
{name: &lsquo;www.site1.com&rsquo;, upload: 200},
{name: &lsquo;www.site2.com&rsquo;, upload: 100},
{name: &lsquo;www.site3.com&rsquo;, upload: 300},
{name: &lsquo;www.site4.com&rsquo;, upload: 400}
]</p>
<p>var data = {};
var sites = [];
jsonData.forEach(function(e) {
sites.push(e.name);
data[e.name] = e.upload;
})</p>
<p>chart = c3.generate({
data: {
json: [ data ],
keys: {
value: sites,
},
type:&lsquo;pie&rsquo;
},
});</p>
<h2 id="ajax-json-examples">ajax json examples</h2>
<p>참조:<a href="https://social.msdn.microsoft.com/Forums/en-US/a1996367-5fc9-48ee-8db9-548ca9079ef2/c3-chart-with-json-dynamic-data?forum=asphtmlcssjavascript">https://social.msdn.microsoft.com/Forums/en-US/a1996367-5fc9-48ee-8db9-548ca9079ef2/c3-chart-with-json-dynamic-data?forum=asphtmlcssjavascript</a>
$.ajax({
type: &ldquo;POST&rdquo;,
url: &ldquo;additions.aspx/GetPiechartData&rdquo;,
data: &ldquo;{}&rdquo;,
contentType: &ldquo;application/json&rdquo;,
dataType: &ldquo;json&rdquo;,
async: &ldquo;true&rdquo;,
cache: &ldquo;false&rdquo;,
success: function (result) {
OnSuccess(result.d);
},
error: function (xhr, status, error) {
alert(error);
}
});</p>
<p>function OnSuccess(response) {
var jsonData = JSON.parse(response);</p>
<p>var data = {};
var projects = [];
jsonData.forEach(function (e) {
projects.push(e.job);
data[e.job] = e.count;
})</p>
<p>chart = c3.generate({
bindto: &lsquo;#chart-var-project&rsquo;,
data: {
json: [ data ],
keys: {
value: projects,
},
type: &lsquo;donut&rsquo;
},
donut: {
title: &ldquo;Projects&rdquo;,
width: 60,
label: {
format: function (value, ratio, id) {
return value;
}
}
},
color: {
pattern: [&quot;#F06292&quot;, &ldquo;#8892d6&rdquo;, &ldquo;#78c350&rdquo;, &ldquo;#45bbe0&rdquo;, &ldquo;#ff9800&rdquo;, &ldquo;#f7531f&rdquo;]
}
});</p>
      
      </div>
        
  
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
  

  

  </div>
</div>  

<script src="/js/URI.js" type="text/javascript"></script>
<script src="/js/page.js" type="text/javascript"></script>
</body>
</html>
