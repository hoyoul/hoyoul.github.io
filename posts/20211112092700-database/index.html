<!DOCTYPE html>
<html>
  <head><title>database</title>


<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes" />

<link rel="shortcut icon" href="./img/favicon.ico" type="image/x-icon">
<link rel="icon" href="./img/favicon.ico" type="image/x-icon">    

<link rel="stylesheet" href="/css/main.css">

</head>
  <body><header>
  <a href="/" id="logo">
    <img src="http://braindump.frege2godel.me/img/mylogo.png" alt="holy frege">
    <h3><span>H</span>oly <span>F</span>rege's <span id="note">notes</span></h3>
  </a>
    <small>G.frege를 너무 사랑하는 holy가...</small>  
</header>

<div class="container">
  <div class="page">
    <h1 class="collapsed-title">database</h1>    
      <div class="content">
	<a href="http://braindump.frege2godel.me/posts/20211112092700-database/" alt="database" class="permalink"><h1>database</h1></a>      
	<h2 id="index-설정에-대해서">index 설정에 대해서</h2>
<p>참조: <a href="https://jojoldu.tistory.com/243">https://jojoldu.tistory.com/243</a></p>
<ol>
<li>column 개수: 3-4</li>
<li>where절의 조건절로 주로 사용되는 컬</li>
<li>cardinality가 높은것: id나 시간정보, 중복되는 값이 많은 것은 비추</li>
<li>여러개 column을 설정시 cardinality가 높은것부터 낮은 순으로</li>
<li>index column을 여러개 설정했다. 그렇다고 해서 index를 타는 것은 아니다. index의 첫번째 column을 where절로 조회할 때만이 탄다. 이게 이해가 잘 안간다.</li>
</ol>
<h2 id="다중-index와-단일-index의-차이">다중 index와 단일 index의 차이</h2>
<p>예를들어, 어떤 table에 name과 address항목에 index를 걸고 싶다고 하자. 하나의 index에 {name, address}를 거는 경우와 index{name}, index{address}의 두개의 index를 만들었을 때 어떤 차이가 있는 지 알고 싶다.
(1) index{name,address}
(2) index{name}, index{address}</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>select * from A where name=&#34;kim&#34; and address=&#34;인천&#34;
</span></span></code></pre></div><p>(1)의 경우 바로 찾는다.
(2)의 경우, name index와 address index중에 어느쪽이 더 빠르게 검색될지를 db가 판단해서 그 순서로 검색한다고 한다. 정확히는 모르겠다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>select * from A where name=&#34;kim&#34;
</span></span></code></pre></div><p>(1)의 경우 index를 탄다.
(2)의 경우 index를 탄다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>select * from A where  address=&#34;인천&#34;
</span></span></code></pre></div><p>(1)의 경우 index를 타지 못한다.
(2)의 경우 index를 타지 못한다.</p>
<h2 id="database-backup에-대해서">database backup에 대해서</h2>
<h2 id="자주-쓰이는-sql문">자주 쓰이는 sql문</h2>
<h3 id="code값을-label로-변환--case-when">code값을 label로 변환(case when)</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>select
</span></span></code></pre></div>      
      </div>
        
  
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
  

  

  </div>
</div>  

<script src="/js/URI.js" type="text/javascript"></script>
<script src="/js/page.js" type="text/javascript"></script>
</body>
</html>
