<!DOCTYPE html>
<html>
  <head><title>[ppt_chapter4] 그리드월드와 큐러닝</title>


<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes" />

<link rel="shortcut icon" href="./img/favicon.ico" type="image/x-icon">
<link rel="icon" href="./img/favicon.ico" type="image/x-icon">    

<link rel="stylesheet" href="/css/main.css">

</head>
  <body><header>
  <a href="/" id="logo">
    <img src="http://braindump.frege2godel.me/img/mylogo.png" alt="holy frege">
    <h3><span>H</span>oly <span>F</span>rege's <span id="note">notes</span></h3>
  </a>
    <small>G.frege를 너무 사랑하는 holy가...</small>  
</header>

<div class="container">
  <div class="page">
    <h1 class="collapsed-title">[ppt_chapter4] 그리드월드와 큐러닝</h1>    
      <div class="content">
	<a href="http://braindump.frege2godel.me/posts/20211221151807-ppt_chapter4_%E1%84%80%E1%85%B3%E1%84%85%E1%85%B5%E1%84%83%E1%85%B3%E1%84%8B%E1%85%AF%E1%86%AF%E1%84%83%E1%85%B3%E1%84%8B%E1%85%AA_%E1%84%8F%E1%85%B2%E1%84%85%E1%85%A5%E1%84%82%E1%85%B5%E1%86%BC/" alt="[ppt_chapter4] 그리드월드와 큐러닝" class="permalink"><h1>[ppt_chapter4] 그리드월드와 큐러닝</h1></a>      
	<h2 id="강화학습과-dp의-차이">강화학습과 DP의 차이</h2>
<ul>
<li>강화학습은 환경 모델없이 학습이 가능하다. (model-free) <br/></li>
<li>DP는 환경모델이 필요하다. (model-based) <br/></li>
</ul>
<h2 id="강화학습-기초-개념">강화학습 기초 개념</h2>
<ul>
<li>예측(Prediction): 가치함수의 update(학습), <br/>
ex) MC(Monte Carlo), TD(Temporal Difference) <br/></li>
<li>제어(Control): 정책 update, <br/>
ex) SARSA, Q-learning <br/></li>
</ul>
<h2 id="monte-carlo-방식">Monte Carlo 방식</h2>
<ul>
<li>원의 넓이를 구하는 유명한 문제: sampling을 사용해서 원의 넓이를 추정. <br/></li>
</ul>
<p><a id="figure--"></a></p>
<p><figure><img src="./img/mc1.jpeg"
         alt="Figure 1: monte carlo" width="500px" height="300px"/><figcaption>
            <p><span class="figure-number">Figure 1: </span>monte carlo</p>
        </figcaption>
</figure>
 <br/></p>
<h2 id="monte-carlo-예측">Monte Carlo 예측</h2>
<ul>
<li>벨만 기대방정식은 예측한 기대값을 계산하고 update하는 방식. <br/></li>
<li>MC는 실제 수행하고 받은 보상을 평균을 통해 값을 계산하고 update한다. <br/></li>
<li>하나의 episode를 수행하면서 모든 state history를 기록한 후, 기록된 state의 가치를 update한다. <br/></li>
<li>하나의 episode가 하나의 sample이다. <br/></li>
</ul>
<h2 id="monte-carlo-예측2">Monte Carlo 예측2</h2>
<ul>
<li>여러번 episode를 통해서 가치함수를 추정할 수 있다. <br/></li>
</ul>
<p><a id="figure--"></a></p>
<p><figure><img src="./img/mc2.jpeg" width="600px" height="300px"/>
</figure>
 <br/></p>
<h2 id="monte-carlo의-update-식">Monte Carlo의 update 식</h2>
<ul>
<li>매번 episode가 끝나면 기존의 state값을 update한다. <br/></li>
<li>update할 가치는 실제 return값과 이전 state값의 차를 update한다. <br/></li>
</ul>
<h2 id="monte-carlo의-update-식-2">Monte Carlo의 update 식 2</h2>
<ul>
<li>n개의 반환값에 대한 평균을 처리하는 식에서 전개를 하면 아래와 같은 식이 나온다. <br/></li>
<li>1/n은 step size 오차율의 어느정도를 update할지 결정할 수 있다. <br/></li>
</ul>
<p><a id="figure--"></a></p>
<p><figure><img src="./img/mc3.jpeg" width="600px" height="300px"/>
</figure>
 <br/></p>
<h2 id="monte-carlo-예측2">Monte Carlo 예측2</h2>
<ul>
<li>MC는 episode가 끝난 후에 value update를 한다. <br/></li>
</ul>
<p><a id="figure--"></a></p>
<p><figure><img src="./img/mc4.jpeg" width="600px" height="400px"/>
</figure>
 <br/></p>
<h2 id="td-예측">TD 예측</h2>
<ul>
<li>MC와 다르게 TD는 실시간 업데이트를 한다. <br/></li>
<li>TD는 한 step이동해서 받은 보상으로 현재 가치를 update한다. <br/></li>
</ul>
<h2 id="td-예측-2">TD 예측 2</h2>
<ul>
<li>TD는 벨만 방정식을 이용하기 때문에 MC처럼 실제 보상값을 사용하진 않는다.  한 스텝 이동했을때 얻는 보상만 실보상이다. <br/></li>
</ul>
<p><a id="figure--"></a></p>
<p><figure><img src="./img/td1.jpeg"
         alt="Figure 3: time difference1" width="600px" height="200px"/><figcaption>
            <p><span class="figure-number">Figure 3: </span>time difference1</p>
        </figcaption>
</figure>
 <br/></p>
<h2 id="살사">살사</h2>
<ul>
<li>살사는 별도의 정책없이 가치 이터레이션에서 사용한 방식과 동일하게  탐욕적 정책을 사용한다. 즉 가장 가치가 높은 상태로 이동한다. 이를 위해서 Q함수를 사용한다. Q함수는 환경정보를 몰라도 된다. <br/></li>
</ul>
<p><a id="figure--"></a></p>
<p><figure><img src="./img/salsa1.jpeg"
         alt="Figure 4: salsa" width="600px" height="300px"/><figcaption>
            <p><span class="figure-number">Figure 4: </span>salsa</p>
        </figcaption>
</figure>
 <br/></p>
<h2 id="살사-2">살사 2</h2>
<ul>
<li>살사의 제어방식은 없다.  Q함수를 이용해서 정책하기 때문이다. Q함수를 update해서 그 값을 기준으로 정책을 결정한다고 보면 된다. <br/></li>
<li>update하는 식은 아래와 같다. <br/></li>
</ul>
<p><a id="figure--"></a></p>
<p><figure><img src="./img/salsa2.jpeg" width="600px" height="200px"/>
</figure>
 <br/></p>
<h2 id="살사의-탐욕정책의-문제점1">살사의 탐욕정책의 문제점1</h2>
<ul>
<li>살사의 정책은  탐욕정책인데, 이것은 Q값이 높은쪽으로 이동하고 Q값으로 update하기 때문에, 매번 같은 episode만을 이동한다. 새로운 정책이 필요. <br/></li>
<li>e-탐욕정책: epsilon만큼 exploration을 한다. <br/></li>
</ul>
<p><a id="figure--"></a></p>
<p><figure><img src="./img/salsa3.jpeg" width="600px" height="200px"/>
</figure>
 <br/></p>
<h2 id="살사의-탐욕정책의-문제점2">살사의 탐욕정책의 문제점2</h2>
<ul>
<li>Q함수를 update할 때, 문제가 발생할 수 있다. <br/></li>
</ul>
<p><a id="figure--"></a></p>
<p><figure><img src="./img/salsa4.jpeg"
         alt="Figure 5: salsa4" width="600px" height="400px"/><figcaption>
            <p><span class="figure-number">Figure 5: </span>salsa4</p>
        </figcaption>
</figure>
 <br/></p>
<h2 id="살사의-탐욕정책의-문제점3">살사의 탐욕정책의 문제점3</h2>
<ul>
<li>exploration을 한 값을 update에 반영했을때, Q값이 낮아져서 해당 상태로 이동조차 안할 수 있다. <br/></li>
</ul>
<p><a id="figure--"></a></p>
<p><figure><img src="./img/salsa5.jpeg" width="600px" height="400px"/>
</figure>
 <br/></p>
<h2 id="q-learning">Q-learning</h2>
<ul>
<li>살사의 문제점을 보완하고자 나온 방식 <br/></li>
<li>Q함수를 update시에 최대값을 update한다. <br/></li>
</ul>
<p><a id="figure--"></a></p>
<p><figure><img src="./img/qlearning1.jpeg" width="600px" height="200px"/>
</figure>
 <br/></p>
      
      </div>
        
  
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
  

  

  </div>
</div>  

<script src="/js/URI.js" type="text/javascript"></script>
<script src="/js/page.js" type="text/javascript"></script>
</body>
</html>
