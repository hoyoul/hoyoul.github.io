<!DOCTYPE html>
<html>
  <head><title>menu만들기-hydra [emacs]</title>


<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes" />

<link rel="shortcut icon" href="./img/favicon.ico" type="image/x-icon">
<link rel="icon" href="./img/favicon.ico" type="image/x-icon">    

<link rel="stylesheet" href="/css/main.css">

</head>
  <body><header>
  <a href="/" id="logo">
    <img src="http://braindump.frege2godel.me/img/mylogo.png" alt="holy frege">
    <h3><span>H</span>oly <span>F</span>rege's <span id="note">notes</span></h3>
  </a>
    <small>G.frege를 너무 사랑하는 holy가...</small>  
</header>

<div class="container">
  <div class="page">
    <h1 class="collapsed-title">menu만들기-hydra [emacs]</h1>    
      <div class="content">
	<a href="http://braindump.frege2godel.me/postss/menu%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%80%E1%85%B5_hydra_emacs/" alt="menu만들기-hydra [emacs]" class="permalink"><h1>menu만들기-hydra [emacs]</h1></a>      
	<h2 id="hydra">hydra</h2>
<p>emacs에서 menu를 만드는 방법은 여러가지가 있을 수 있다. 가장 쉬운
방법은 hydra package를 사용하는 것이다.</p>
<h3 id="기본적인-형태">기본적인 형태</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#bb60d5">defhydra</span> <span style="color:#bb60d5">hydra-name</span> (<span style="color:#007020">:color</span> <span style="color:#bb60d5">color-name</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#4070a0">&#34;Hydra prompt&#34;</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#4070a0">&#34;key1&#34;</span> <span style="color:#bb60d5">command1</span> <span style="color:#4070a0">&#34;command1 description&#34;</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#4070a0">&#34;key2&#34;</span> <span style="color:#bb60d5">command2</span> <span style="color:#4070a0">&#34;command2 description&#34;</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#666">...</span> )
</span></span></code></pre></div><p>위와 같이 작성한다. hydra-name은 임의로 정하면 된다. &ldquo;hydra prompt&quot;와
key와 description이 menu에 보이게 된다.key를 누르면 command가
실행된다.</p>
<h3 id="example1">example1</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#bb60d5">defhydra</span> <span style="color:#bb60d5">my-menu</span> (<span style="color:#007020">:color</span> <span style="color:#bb60d5">blue</span> <span style="color:#007020">:columns</span> <span style="color:#40a070">1</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#4070a0">&#34;My Menu&#34;</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#4070a0">&#34;a&#34;</span> <span style="color:#06287e">message</span> <span style="color:#4070a0">&#34;Action A&#34;</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#4070a0">&#34;q&#34;</span> <span style="color:#60add5">nil</span> <span style="color:#4070a0">&#34;Quit&#34;</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#bb60d5">global-set-key</span> (<span style="color:#bb60d5">kbd</span> <span style="color:#4070a0">&#34;C-c m&#34;</span>) <span style="color:#517918">&#39;my-menu/body</span>)
</span></span></code></pre></div><p>C-c m을 누르면 a와 q가 보인다. :columns를 사용하면 메뉴의 key가
column형태로 배열되고, []는 표시되지 않는다.</p>
<p><a id="figure--hydra"></a></p>
<figure><img src="./img/hydra1.png"
         alt="Figure 1: hydra" width="400px"/><figcaption>
            <p><span class="figure-number">Figure 1: </span>hydra</p>
        </figcaption>
</figure>

<h3 id="example2">example2</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#bb60d5">global-set-key</span>
</span></span><span style="display:flex;"><span> (<span style="color:#bb60d5">kbd</span> <span style="color:#4070a0">&#34;C-c m&#34;</span>)
</span></span><span style="display:flex;"><span> (<span style="color:#bb60d5">defhydra</span> <span style="color:#bb60d5">my-menu2</span> (<span style="color:#007020">:color</span> <span style="color:#bb60d5">blue</span> )
</span></span><span style="display:flex;"><span>   <span style="color:#4070a0">&#34;My Menu&#34;</span>
</span></span><span style="display:flex;"><span>   (<span style="color:#4070a0">&#34;a&#34;</span> <span style="color:#06287e">message</span> <span style="color:#4070a0">&#34;abbrev&#34;</span>)
</span></span><span style="display:flex;"><span>   (<span style="color:#4070a0">&#34;q&#34;</span> <span style="color:#60add5">nil</span> <span style="color:#4070a0">&#34;cancel&#34;</span>)))
</span></span></code></pre></div><p>example1과 동일한 형태다. 다만 :columns가 제외됐고, global-set-key를
따로 실행하지 않는다. :columns가 없기 때문에 모양이 좀 다르다.</p>
<p><a id="figure--hydra2"></a></p>
<figure><img src="./img/hydra2.png"
         alt="Figure 2: hydra2" width="400px"/><figcaption>
            <p><span class="figure-number">Figure 2: </span>hydra2</p>
        </figcaption>
</figure>

<h2 id="pretty-hydra">pretty-hydra</h2>
<p>hydra는 menu를 표시하는 쉬운 방법이지만 모양이 이쁘지 않다. 모양이
이쁜 pretty-hydra라는 package가 있다.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">pretty-hydra</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:ensure</span> <span style="color:#60add5">t</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#bb60d5">pretty-hydra-define</span> <span style="color:#bb60d5">my-hydra</span> (<span style="color:#007020">:color</span> <span style="color:#bb60d5">teal</span> <span style="color:#007020">:quit-key</span> <span style="color:#4070a0">&#34;q&#34;</span>)
</span></span><span style="display:flex;"><span>  (
</span></span><span style="display:flex;"><span>   <span style="color:#4070a0">&#34;Basic&#34;</span>
</span></span><span style="display:flex;"><span>   ((<span style="color:#4070a0">&#34;b&#34;</span> <span style="color:#bb60d5">counsel-bookmark</span> <span style="color:#4070a0">&#34;bookmark&#34;</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#4070a0">&#34;c&#34;</span> <span style="color:#bb60d5">compile</span> <span style="color:#4070a0">&#34;compile&#34;</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#4070a0">&#34;e&#34;</span> <span style="color:#06287e">eval-region</span> <span style="color:#4070a0">&#34;eval-region&#34;</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#4070a0">&#34;E&#34;</span> <span style="color:#06287e">eval-buffer</span> <span style="color:#4070a0">&#34;eval-buffer&#34;</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#4070a0">&#34;i&#34;</span> <span style="color:#bb60d5">ibuffer</span> <span style="color:#4070a0">&#34;ibuffer&#34;</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#4070a0">&#34;l&#34;</span> <span style="color:#bb60d5">counsel-find-library</span> <span style="color:#4070a0">&#34;library&#34;</span>))
</span></span><span style="display:flex;"><span>  <span style="color:#4070a0">&#34;Emacs&#34;</span>
</span></span><span style="display:flex;"><span>   ((<span style="color:#4070a0">&#34;b&#34;</span> <span style="color:#bb60d5">counsel-bookmark</span> <span style="color:#4070a0">&#34;bookmark&#34;</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#4070a0">&#34;c&#34;</span> <span style="color:#bb60d5">compile</span> <span style="color:#4070a0">&#34;compile&#34;</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#4070a0">&#34;e&#34;</span> <span style="color:#06287e">eval-region</span> <span style="color:#4070a0">&#34;eval-region&#34;</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#4070a0">&#34;E&#34;</span> <span style="color:#06287e">eval-buffer</span> <span style="color:#4070a0">&#34;eval-buffer&#34;</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#4070a0">&#34;i&#34;</span> <span style="color:#bb60d5">ibuffer</span> <span style="color:#4070a0">&#34;ibuffer&#34;</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#4070a0">&#34;l&#34;</span> <span style="color:#bb60d5">counsel-find-library</span> <span style="color:#4070a0">&#34;library&#34;</span>))
</span></span><span style="display:flex;"><span>   )
</span></span><span style="display:flex;"><span>  )
</span></span><span style="display:flex;"><span>(<span style="color:#bb60d5">global-set-key</span> (<span style="color:#bb60d5">kbd</span> <span style="color:#4070a0">&#34;C-c m&#34;</span>) <span style="color:#517918">&#39;my-hydra/body</span>)
</span></span></code></pre></div><p>사용법은 hydra와 그닥 다르지 않다. 위에서는 group이름으로 Basic과
Emacs를 추가했고 key binding을 밖으로 뺐다. 함수이름만
pretty-hydra-define으로 변경된것으로 보면 된다.</p>
<p><a id="figure--pretty hydra"></a></p>
<figure><img src="./img/prettyhydra1.png"
         alt="Figure 3: pretty hydra" width="400px"/><figcaption>
            <p><span class="figure-number">Figure 3: </span>pretty hydra</p>
        </figcaption>
</figure>

      
      </div>
        
  
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
    
     
  

  

  </div>
</div>  

<script src="/js/URI.js" type="text/javascript"></script>
<script src="/js/page.js" type="text/javascript"></script>
</body>
</html>
